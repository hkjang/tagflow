(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{9581:function(e,t,s){Promise.resolve().then(s.bind(s,3265))},3265:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(7821),o=s(8397),n=s.n(o),r=s(8078),i=s(2076),l=s(1741),d=s(4734);let c={SELECTED_PURPOSE_ID:"tagflow_scan_purpose_id",PURPOSE_DATA:"tagflow_scan_purpose_data"};function u(){var e;let{t}=(0,l.$)(),[s,o]=(0,r.useState)(""),[u,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(null),[y,b]=(0,r.useState)([]),v=(0,r.useRef)(null),[S,x]=(0,r.useState)([]),[w,k]=(0,r.useState)(null),[_,D]=(0,r.useState)([]),[C,j]=(0,r.useState)({}),[R,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{var e;null===(e=v.current)||void 0===e||e.focus()},[]),(0,r.useEffect)(()=>{try{let e=sessionStorage.getItem(c.SELECTED_PURPOSE_ID),t=sessionStorage.getItem(c.PURPOSE_DATA);e&&k(Number(e)),t&&j(JSON.parse(t))}catch(e){console.error("Failed to load saved purpose data:",e)}T(!0)},[]),(0,r.useEffect)(()=>{F(),I()},[]),(0,r.useEffect)(()=>{w?E(w):(D([]),R&&(j({}),sessionStorage.removeItem(c.PURPOSE_DATA)))},[w]),(0,r.useEffect)(()=>{R&&(w?sessionStorage.setItem(c.SELECTED_PURPOSE_ID,String(w)):sessionStorage.removeItem(c.SELECTED_PURPOSE_ID))},[w,R]),(0,r.useEffect)(()=>{R&&Object.keys(C).length>0&&sessionStorage.setItem(c.PURPOSE_DATA,JSON.stringify(C))},[C,R]);let I=async()=>{try{let e=[...await d.Q.getActivePurposes()].sort((e,t)=>t.id-e.id);x(e),!sessionStorage.getItem(c.SELECTED_PURPOSE_ID)&&e.length>0&&k(e[0].id)}catch(e){console.error("Failed to fetch purposes:",e)}},E=async e=>{try{let t=await d.Q.getFields(e);if(D(t),!sessionStorage.getItem(c.PURPOSE_DATA)||0===Object.keys(C).length){let e={};t.forEach(t=>{t.default_value&&(e[t.field_name]=t.default_value)}),j(e)}}catch(e){console.error("Failed to fetch purpose fields:",e)}},F=async()=>{try{let e=await i.Z.get("/events",{params:{limit:10,page:1}});b(e.data.data||[])}catch(e){console.error("Failed to fetch recent events:",e)}},N=(e,t)=>{j(s=>({...s,[e]:t}))},A=()=>{for(let e of _)if(e.is_required&&!C[e.field_name])return p({type:"error",text:"".concat(e.field_label," 필드는 필수입니다.")}),!1;return!0},W={ㅂ:"q",ㅈ:"w",ㄷ:"e",ㄱ:"r",ㅅ:"t",ㅛ:"y",ㅕ:"u",ㅑ:"i",ㅐ:"o",ㅔ:"p",ㅁ:"a",ㄴ:"s",ㅇ:"d",ㄹ:"f",ㅎ:"g",ㅗ:"h",ㅓ:"j",ㅏ:"k",ㅣ:"l",ㅋ:"z",ㅌ:"x",ㅊ:"c",ㅍ:"v",ㅠ:"b",ㅜ:"n",ㅡ:"m",ㅃ:"Q",ㅉ:"W",ㄸ:"E",ㄲ:"R",ㅆ:"T",ㅒ:"O",ㅖ:"P"},P=(0,r.useRef)(!1),z=e=>{let t="";for(let s of e)W[s]?t+=W[s]:/[a-zA-Z0-9]/.test(s)&&(t+=s);return t},U=async e=>{if(P.current)return;let t=z(e.target.value).replace(/[^a-zA-Z0-9]/g,"").slice(0,8).toLowerCase();o(t),v.current&&(v.current.value=t),8!==t.length||u||await O(t)},L=()=>{let e=new Date,t=-e.getTimezoneOffset(),s=t>=0?"+":"-",a=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),o=String(Math.abs(t)%60).padStart(2,"0"),n=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0"),l=String(e.getHours()).padStart(2,"0"),d=String(e.getMinutes()).padStart(2,"0"),c=String(e.getSeconds()).padStart(2,"0"),u=String(e.getMilliseconds()).padStart(3,"0");return"".concat(n,"-").concat(r,"-").concat(i,"T").concat(l,":").concat(d,":").concat(c,".").concat(u).concat(s).concat(a,":").concat(o)},O=async e=>{if(!w||A()){f(!0),p(null),g(null);try{let s={card_uid:e,event_time:L()};w&&(s.purpose_id=w,Object.keys(C).length>0&&(s.purpose_data=C));let a=await i.Z.post("/events/manual",s),n=null===a.data.event||a.data.message&&a.data.message.toLowerCase().includes("throttled");if(p({type:"success",text:n?t("scan.throttledMessage"):t("scan.successMessage")}),a.data.webhookResponses&&a.data.webhookResponses.length>0)for(let e of a.data.webhookResponses){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){console.warn("Failed to parse webhook response as JSON:",e);continue}if(e&&e.emp_name){g({emp_name:e.emp_name,flag:e.flag||""});break}}o(""),await F(),setTimeout(()=>{var e;null===(e=v.current)||void 0===e||e.focus()},100),setTimeout(()=>{p(null),g(null)},3e3)}catch(e){var s,a;p({type:"error",text:(null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||t("scan.failedMessage")})}finally{f(!1)}}},M=e=>new Date(e).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),Z=e=>{let t=C[e.field_name]||"",s={width:"100%",padding:"0.5rem",border:"1px solid #d1d5db",borderRadius:"0.375rem",fontSize:"0.875rem"};switch(e.field_type){case"number":return(0,a.jsx)("input",{type:"number",value:t,onChange:t=>N(e.field_name,Number(t.target.value)),style:s});case"date":return(0,a.jsx)("input",{type:"date",value:t,onChange:t=>N(e.field_name,t.target.value),style:s});case"select":var o;return(0,a.jsxs)("select",{value:t,onChange:t=>N(e.field_name,t.target.value),style:s,children:[(0,a.jsx)("option",{value:"",children:"선택하세요"}),null===(o=e.options)||void 0===o?void 0:o.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]});default:return(0,a.jsx)("input",{type:"text",value:t,onChange:t=>N(e.field_name,t.target.value),style:s})}};return(0,a.jsxs)("div",{style:{height:"calc(100vh - 120px)",display:"flex",flexDirection:"column",gap:"1rem"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#1f2937",margin:0},className:"jsx-52f8e967fdd9f07b",children:t("scan.title")}),w&&(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",backgroundColor:"#dbeafe",padding:"0.5rem 1rem",borderRadius:"9999px",fontSize:"0.875rem",color:"#1e40af"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("span",{className:"jsx-52f8e967fdd9f07b",children:"\uD83D\uDCCB"}),(0,a.jsx)("span",{className:"jsx-52f8e967fdd9f07b",children:null===(e=S.find(e=>e.id===w))||void 0===e?void 0:e.name})]})]}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",flex:1,minHeight:0},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.75rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.5rem",display:"flex",flexDirection:"column",overflow:"auto"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("div",{style:{textAlign:"center",marginBottom:"1rem"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"3.5rem",height:"3.5rem",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #8b5cf6)",marginBottom:"0.75rem"},className:"jsx-52f8e967fdd9f07b",children:(0,a.jsx)("span",{style:{fontSize:"1.5rem"},className:"jsx-52f8e967fdd9f07b",children:"\uD83D\uDCF1"})}),(0,a.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1f2937",marginBottom:"0.25rem"},className:"jsx-52f8e967fdd9f07b",children:t("scan.manualRegistration")}),(0,a.jsx)("p",{style:{color:"#6b7280",fontSize:"0.875rem",margin:0},className:"jsx-52f8e967fdd9f07b",children:t("scan.description")})]}),S.length>0&&(0,a.jsxs)("div",{style:{marginBottom:"1rem"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("select",{value:w||"",onChange:e=>{let t=e.target.value,s=t?Number(t):null;k(s),s!==w&&(j({}),sessionStorage.removeItem(c.PURPOSE_DATA))},style:{width:"100%",padding:"0.625rem 0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"0.875rem",backgroundColor:"#f9fafb",color:"#374151",cursor:"pointer"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("option",{value:"",className:"jsx-52f8e967fdd9f07b",children:"\uD83D\uDCCB 목적 선택 안함 (기본)"}),S.map(e=>(0,a.jsx)("option",{value:e.id,className:"jsx-52f8e967fdd9f07b",children:e.name},e.id))]}),(0,a.jsx)("p",{style:{fontSize:"0.7rem",color:"#9ca3af",marginTop:"0.375rem",marginBottom:0},className:"jsx-52f8e967fdd9f07b",children:"\uD83D\uDCA1 최근 등록된 활성 목적이 자동 선택됩니다. 선택한 값은 로그아웃 전까지 유지됩니다."})]}),_.length>0&&(0,a.jsx)("div",{style:{marginBottom:"1rem",backgroundColor:"#f8fafc",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #e2e8f0"},className:"jsx-52f8e967fdd9f07b",children:(0,a.jsx)("div",{style:{display:"grid",gridTemplateColumns:_.length>2?"1fr 1fr":"1fr",gap:"0.75rem"},className:"jsx-52f8e967fdd9f07b",children:_.map(e=>(0,a.jsxs)("div",{className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("label",{style:{display:"block",marginBottom:"0.25rem",fontWeight:"500",fontSize:"0.75rem",color:"#64748b"},className:"jsx-52f8e967fdd9f07b",children:[e.field_label,e.is_required&&(0,a.jsx)("span",{style:{color:"#ef4444"},className:"jsx-52f8e967fdd9f07b",children:" *"})]}),Z(e)]},e.id))})}),(0,a.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1rem 0"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("div",{style:{width:"100%",maxWidth:"320px"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("input",{ref:v,type:"text",inputMode:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,value:s,onChange:U,onCompositionStart:()=>{P.current=!0},onCompositionEnd:e=>{P.current=!1,U({target:e.target})},disabled:u,placeholder:t("scan.placeholder"),style:{width:"100%",padding:"1rem",fontSize:"2rem",fontFamily:"monospace",textAlign:"center",border:"3px solid",borderColor:8===s.length?"#10b981":"#e5e7eb",borderRadius:"0.75rem",outline:"none",transition:"all 0.2s",letterSpacing:"0.15em",background:8===s.length?"linear-gradient(to bottom, #ecfdf5, #ffffff)":"white",textTransform:"lowercase"},onFocus:e=>{8!==s.length&&(e.target.style.borderColor="#3b82f6",e.target.style.boxShadow="0 0 0 4px rgba(59, 130, 246, 0.1)")},onBlur:e=>{8!==s.length&&(e.target.style.borderColor="#e5e7eb",e.target.style.boxShadow="none")},className:"jsx-52f8e967fdd9f07b"}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",padding:"0 0.25rem"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("span",{style:{color:8===s.length?"#10b981":"#9ca3af",fontSize:"0.75rem",fontWeight:"600"},className:"jsx-52f8e967fdd9f07b",children:[s.length,"/8"]}),u&&(0,a.jsxs)("span",{style:{color:"#6b7280",fontSize:"0.75rem"},className:"jsx-52f8e967fdd9f07b",children:["⏳ ",t("scan.processing")]})]})]}),(h||m)&&(0,a.jsxs)("div",{style:{width:"100%",maxWidth:"320px",marginTop:"1rem"},className:"jsx-52f8e967fdd9f07b",children:[h&&(0,a.jsxs)("div",{style:{padding:"0.75rem 1rem",borderRadius:"0.5rem",backgroundColor:"success"===h.type?"#dcfce7":"#fee2e2",color:"success"===h.type?"#166534":"#991b1b",fontSize:"0.875rem",fontWeight:"500",textAlign:"center",animation:"fadeIn 0.3s"},className:"jsx-52f8e967fdd9f07b",children:["success"===h.type?"✅":"❌"," ",h.text]}),m&&(0,a.jsxs)("div",{style:{padding:"0.75rem 1rem",borderRadius:"0.5rem",background:"linear-gradient(135deg, #dbeafe, #e0e7ff)",marginTop:"0.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",animation:"fadeIn 0.3s"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("span",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e40af"},className:"jsx-52f8e967fdd9f07b",children:["\uD83D\uDC64 ",m.emp_name]}),m.flag&&(0,a.jsx)("span",{style:{backgroundColor:"입실"===m.flag?"#10b981":"#f59e0b",color:"white",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"600"},className:"jsx-52f8e967fdd9f07b",children:m.flag})]})]})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#f1f5f9",padding:"0.75rem",borderRadius:"0.5rem",fontSize:"0.75rem",color:"#64748b",lineHeight:"1.5"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("strong",{className:"jsx-52f8e967fdd9f07b",children:"\uD83D\uDCA1 팁:"})," 8자리 카드 UID 입력 시 자동 등록됩니다."]})]}),(0,a.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.75rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",padding:"1.25rem",display:"flex",flexDirection:"column",overflow:"hidden"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#1f2937",margin:0},className:"jsx-52f8e967fdd9f07b",children:t("scan.recentEvents")}),(0,a.jsxs)("span",{style:{backgroundColor:"#e0e7ff",color:"#4338ca",padding:"0.25rem 0.625rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"600"},className:"jsx-52f8e967fdd9f07b",children:[y.length,"건"]})]}),0===y.length?(0,a.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#9ca3af"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("span",{style:{fontSize:"2.5rem",marginBottom:"0.5rem"},className:"jsx-52f8e967fdd9f07b",children:"\uD83D\uDCED"}),(0,a.jsx)("span",{style:{fontSize:"0.875rem"},className:"jsx-52f8e967fdd9f07b",children:t("scan.noRecentEvents")})]}):(0,a.jsx)("div",{style:{flex:1,overflow:"auto"},className:"jsx-52f8e967fdd9f07b",children:(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("thead",{style:{position:"sticky",top:0,backgroundColor:"white"},className:"jsx-52f8e967fdd9f07b",children:(0,a.jsxs)("tr",{style:{borderBottom:"2px solid #e5e7eb"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("th",{style:{padding:"0.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"600",color:"#6b7280"},className:"jsx-52f8e967fdd9f07b",children:t("scan.cardUid")}),(0,a.jsx)("th",{style:{padding:"0.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"600",color:"#6b7280"},className:"jsx-52f8e967fdd9f07b",children:t("scan.eventTime")}),(0,a.jsx)("th",{style:{padding:"0.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"600",color:"#6b7280"},className:"jsx-52f8e967fdd9f07b",children:t("scan.sourceIp")})]})}),(0,a.jsx)("tbody",{className:"jsx-52f8e967fdd9f07b",children:y.map((e,t)=>(0,a.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",backgroundColor:0===t?"#fefce8":"transparent",transition:"background-color 0.2s"},className:"jsx-52f8e967fdd9f07b",children:[(0,a.jsx)("td",{style:{padding:"0.5rem",fontFamily:"monospace",fontSize:"0.8rem",fontWeight:0===t?"600":"400",color:0===t?"#854d0e":"#374151"},className:"jsx-52f8e967fdd9f07b",children:e.card_uid}),(0,a.jsx)("td",{style:{padding:"0.5rem",fontSize:"0.75rem",color:"#6b7280"},className:"jsx-52f8e967fdd9f07b",children:M(e.event_time)}),(0,a.jsx)("td",{style:{padding:"0.5rem",fontSize:"0.75rem",color:"#9ca3af"},className:"jsx-52f8e967fdd9f07b",children:e.source_ip})]},e.id))})]})})]})]}),(0,a.jsx)(n(),{id:"52f8e967fdd9f07b",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]})}},1741:function(e,t,s){"use strict";s.d(t,{b:function(){return i},$:function(){return l}});var a=s(7821),o=s(8078);let n={ko:JSON.parse('{"common":{"loading":"로딩중...","save":"저장","cancel":"취소","delete":"삭제","edit":"편집","add":"추가","confirm":"확인","retry":"재시도","reset":"초기화","yes":"예","no":"아니오","to":"~","loggedInAs":"로그인:","characters":"자","signOut":"로그아웃"},"sidebar":{"dashboard":"대시보드","userManagement":"사용자 관리","tagManagement":"태그 관리","tagInput":"태그 입력","reports":"리포트","settings":"설정","userGuide":"사용자 가이드"},"login":{"title":"TagFlow","subtitle":"계정에 로그인하세요","username":"사용자명","password":"비밀번호","signIn":"로그인","signingIn":"로그인 중...","defaultCredentials":"기본 계정: admin / admin123","invalidCredentials":"잘못된 사용자명 또는 비밀번호입니다","userGuide":"사용자 가이드"},"dashboard":{"title":"대시보드","loading":"대시보드 로딩중...","totalEvents":"총 이벤트","totalEventsDesc":"전체 태그 스캔 횟수","todayEvents":"오늘 이벤트","todayEventsDesc":"오늘 발생한 태그","uniqueCards":"고유 카드","uniqueCardsDesc":"등록된 카드 수","activeWebhooks":"활성 웹훅","activeWebhooksDesc":"웹훅 연동 상태","eventTrend":"최근 7일 이벤트 트렌드","webhookSuccessRate":"웹훅 성공률 (최근 30일)","totalCalls":"총 호출","success":"성공","failed":"실패","top5Cards":"TOP 5 카드","recentEvents":"최근 이벤트","noData":"데이터가 없습니다","noRecentEvents":"최근 이벤트가 없습니다","times":"회"},"scan":{"title":"태그 입력","manualRegistration":"수동 태그 등록","description":"8자리 RFID 태그 UID를 입력하세요. 입력 완료 시 자동으로 등록됩니다.","placeholder":"8자리 UID 입력","processing":"처리중...","successMessage":"태그가 성공적으로 등록되었습니다!","throttledMessage":"태그가 무시되었습니다 (중복 제한)","failedMessage":"태그 등록에 실패했습니다","tips":"\uD83D\uDCA1 도움말:","tip1":"영문자와 숫자만 입력 가능합니다","tip2":"8자리 입력 시 자동으로 등록됩니다","tip3":"등록 성공 후 입력창이 자동으로 초기화됩니다","recentEvents":"최근 태그 이벤트","noRecentEvents":"최근 이벤트 없음","cardUid":"카드 UID","eventTime":"이벤트 시간","sourceIp":"소스 IP"},"settings":{"title":"설정","webhookConfig":"웹훅 설정","webhookConfigDesc":"RFID 태그 이벤트를 외부 시스템으로 전송할 웹훅을 설정합니다.","addWebhook":"웹훅 추가","generalSettings":"일반 설정","generalSettingsDesc":"시스템 전체 설정을 관리합니다.","systemName":"시스템 이름","webhookCardUidKey":"웹훅 카드 UID 키","webhookCardUidKeyDesc":"웹훅 페이로드에서 사용할 카드 UID 키 이름입니다 (기본값: card_uid).","tagThrottleTime":"태그 중복 제한 시간 (분)","tagThrottleTimeDesc":"이 시간 내에 동일한 태그가 여러 번 스캔되면 무시됩니다. 0으로 설정하면 비활성화됩니다.","saveChanges":"변경사항 저장","savedSuccess":"설정이 저장되었습니다","saveFailed":"설정 저장에 실패했습니다","dataManagement":"데이터 관리","dataManagementDesc":"로그 데이터를 관리합니다. 이 작업들은 되돌릴 수 없습니다.","resetTagEvents":"태그 이벤트 초기화","resetTagEventsDesc":"모든 태그 이벤트 기록을 삭제합니다.","resetWebhookLogs":"웹훅 로그 초기화","resetWebhookLogsDesc":"모든 웹훅 실행 로그를 삭제합니다.","resetting":"초기화 중...","confirmResetTagEvents":"정말로 모든 Tag Events를 삭제하시겠습니까?\\n\\n⚠️ 이 작업은 되돌릴 수 없습니다.","confirmResetWebhookLogs":"정말로 모든 Webhook Logs를 삭제하시겠습니까?\\n\\n⚠️ 이 작업은 되돌릴 수 없습니다.","resetTagEventsSuccess":"Tag Events가 초기화되었습니다.\\n삭제된 레코드: {count}개","resetWebhookLogsSuccess":"Webhook Logs가 초기화되었습니다.\\n삭제된 레코드: {count}개","confirmDeleteWebhook":"정말로 웹훅 \\"{name}\\"을(를) 삭제하시겠습니까?","webhookTestSuccess":"웹훅 테스트 성공! 자세한 내용은 웹훅 로그를 확인하세요.","webhookTestFailed":"웹훅 테스트 실패","deleteWebhookFailed":"웹훅 삭제에 실패했습니다","saveWebhookFailed":"웹훅 저장에 실패했습니다"},"webhook":{"name":"이름","url":"URL","method":"메서드","active":"활성","inactive":"비활성","actions":"작업","test":"테스트","noWebhooks":"등록된 웹훅이 없습니다.","createFirst":"첫 번째 웹훅을 추가해보세요.","editWebhook":"웹훅 수정","createWebhook":"웹훅 생성","urlPlaceholder":"https://example.com/webhook","customHeaders":"커스텀 헤더","headerKey":"헤더 키","headerValue":"헤더 값","addHeader":"헤더 추가","payloadMapping":"페이로드 필드 매핑","fromField":"원본 필드","toField":"대상 필드명","addMapping":"매핑 추가"},"reports":{"title":"리포트 및 분석","last7Days":"최근 7일","last30Days":"최근 30일","last90Days":"최근 90일","customRange":"직접 선택","exportCsv":"CSV 내보내기","exporting":"내보내는 중...","totalEvents":"총 이벤트","totalEventsDesc":"태그 스캔 기록","uniqueCards":"고유 카드","uniqueCardsDesc":"감지된 서로 다른 카드","activeWebhooks":"활성 웹훅","of":"/","total":"전체","webhookSuccessRate":"웹훅 성공률","calls30Days":"호출 (30일)","dailyEventActivity":"일별 이벤트 활동","noEventData":"해당 기간의 이벤트 데이터가 없습니다","mostActiveCards":"가장 활발한 카드","noCardData":"카드 데이터가 없습니다","cardUid":"카드 UID","eventCount":"이벤트 횟수","webhookPerformance":"웹훅 성능 (최근 30일)","webhook":"웹훅","totalCalls":"총 호출","successful":"성공","successRate":"성공률","noWebhookData":"웹훅 성능 데이터가 없습니다"},"language":{"title":"언어","korean":"한국어","english":"English"},"guide":{"title":"TagFlow 사용자 가이드","subtitle":"RFID 태그 관리 시스템 안내서","backToLogin":"로그인으로 돌아가기","overview":{"title":"서비스 소개","description":"TagFlow는 RFID 태그 이벤트를 실시간으로 수집하고 관리하는 시스템입니다. 태그 스캔 데이터를 모니터링하고, 웹훅을 통해 외부 시스템과 연동하며, 다양한 리포트를 통해 데이터를 분석할 수 있습니다."},"features":{"title":"주요 기능","dashboard":{"title":"대시보드","description":"실시간으로 태그 이벤트 현황, 웹훅 성공률, 최근 이벤트 등을 한눈에 확인할 수 있습니다."},"tagInput":{"title":"태그 입력","description":"8자리 RFID 태그 UID를 수동으로 입력하여 이벤트를 생성할 수 있습니다. 입력 완료 시 자동으로 등록됩니다."},"reports":{"title":"리포트","description":"기간별 이벤트 통계, 가장 활발한 카드, 웹훅 성능 등 다양한 분석 데이터를 확인하고 CSV로 내보낼 수 있습니다."},"webhook":{"title":"웹훅 설정","description":"태그 이벤트 발생 시 외부 시스템으로 데이터를 전송할 웹훅을 설정할 수 있습니다. 커스텀 헤더와 필드 매핑을 지원합니다."}},"gettingStarted":{"title":"시작하기","step1":"기본 계정(admin / admin123)으로 로그인합니다.","step2":"설정 메뉴에서 필요한 웹훅을 등록합니다.","step3":"태그 입력 메뉴에서 RFID 태그를 등록하거나 스캔합니다.","step4":"대시보드와 리포트에서 데이터를 모니터링합니다."},"roles":{"title":"사용자 역할","role":"역할","permissions":"권한","adminDesc":"모든 기능 사용 가능, 사용자 관리, 시스템 설정 변경","operatorDesc":"태그 입력, 대시보드 조회, 리포트 조회","viewerDesc":"대시보드 조회, 리포트 조회 (읽기 전용)"},"help":{"title":"도움이 필요하신가요?","description":"시스템 관리자에게 문의하거나 문서를 참조하세요."}},"purposes":{"title":"태그 목적 관리","create":"새 목적 추가","list":"목적 목록","detail":"목적 상세","types":{"ATTENDANCE":"교육 출결","ACCESS":"출입 관리","FACILITY":"시설 이용","RESERVATION":"예약 관리"},"fields":{"title":"필드 설정","add":"필드 추가","name":"필드명","label":"라벨","type":"타입","required":"필수","defaultValue":"기본값"},"webhooks":{"title":"웹훅 연결","add":"웹훅 연결","mapping":"필드 매핑"},"rules":{"title":"규칙 설정","add":"규칙 추가","types":{"TIME_WINDOW":"시간대 규칙","USER_GROUP":"사용자 그룹","DUPLICATE_POLICY":"중복 정책"}},"followups":{"title":"후속 처리","add":"후속 처리 추가","types":{"NOTIFICATION":"알림","APPROVAL":"승인 요청","API_CALL":"외부 API 호출"}},"stats":{"today":"오늘","thisWeek":"이번 주","thisMonth":"이번 달","total":"전체"},"selectPurpose":"목적 선택","noPurpose":"목적 없음","active":"활성","inactive":"비활성"},"users":{"title":"사용자 관리","addUser":"사용자 추가","editUser":"사용자 수정","createUser":"사용자 생성","username":"사용자명","password":"비밀번호","passwordHint":"(비워두면 현재 비밀번호 유지)","role":"권한","createdAt":"생성일","actions":"작업","edit":"수정","delete":"삭제","cancel":"취소","update":"수정","create":"생성","loading":"로딩중...","confirmDelete":"정말로 \\"{username}\\" 사용자를 삭제하시겠습니까?","cannotDeleteAdmin":"admin 사용자는 삭제할 수 없습니다","saveFailed":"사용자 저장에 실패했습니다","deleteFailed":"사용자 삭제에 실패했습니다","roles":{"admin":"관리자","operator":"운영자","viewer":"조회자"}},"tags":{"title":"태그 관리","autoRegistration":"RFID 태그 자동 등록","description":"RFID 태그는 리더기에 스캔되면 자동으로 등록됩니다. 각 태그 이벤트는 시스템에 의해 캡처되고 처리되어 데이터베이스에 기록됩니다.","howItWorks":"작동 방식:","step1":"RFID 리더기가 태그를 감지합니다","step2":"태그 UID가 HTTP 요청을 통해 백엔드로 전송됩니다","step3":"시스템이 태그 이벤트 레코드를 생성합니다","step4":"설정된 웹훅이 외부 시스템에 알림을 전송합니다","viewReports":"태그 이벤트와 통계를 확인하려면 리포트 페이지를 방문하세요.","reports":"리포트"}}'),en:JSON.parse('{"common":{"loading":"Loading...","save":"Save","cancel":"Cancel","delete":"Delete","edit":"Edit","add":"Add","confirm":"Confirm","retry":"Retry","reset":"Reset","yes":"Yes","no":"No","to":"to","loggedInAs":"Logged in as:","characters":"characters","signOut":"Sign out"},"sidebar":{"dashboard":"Dashboard","userManagement":"User Management","tagManagement":"Tag Management","tagInput":"Tag Input","reports":"Reports","settings":"Settings","userGuide":"User Guide"},"login":{"title":"TagFlow","subtitle":"Sign in to your account","username":"Username","password":"Password","signIn":"Sign in","signingIn":"Signing in...","defaultCredentials":"Default credentials: admin / admin123","invalidCredentials":"Invalid username or password","userGuide":"User Guide"},"dashboard":{"title":"Dashboard","loading":"Loading dashboard...","totalEvents":"Total Events","totalEventsDesc":"Total tag scan count","todayEvents":"Today\'s Events","todayEventsDesc":"Tags scanned today","uniqueCards":"Unique Cards","uniqueCardsDesc":"Registered card count","activeWebhooks":"Active Webhooks","activeWebhooksDesc":"Webhook connection status","eventTrend":"Event Trend (Last 7 Days)","webhookSuccessRate":"Webhook Success Rate (Last 30 Days)","totalCalls":"Total Calls","success":"Success","failed":"Failed","top5Cards":"TOP 5 Cards","recentEvents":"Recent Events","noData":"No data available","noRecentEvents":"No recent events","times":"times"},"scan":{"title":"Tag Input","manualRegistration":"Manual Tag Registration","description":"Enter an 8-character RFID tag UID. The tag will be automatically registered when you complete the input.","placeholder":"Enter 8-character UID","processing":"Processing...","successMessage":"Tag registered successfully!","throttledMessage":"Tag ignored (throttled)","failedMessage":"Failed to register tag","tips":"\uD83D\uDCA1 Tips:","tip1":"Only alphanumeric characters are allowed","tip2":"Tag will auto-submit when 8 characters are entered","tip3":"Input will automatically clear after successful registration","recentEvents":"Recent Tag Events","noRecentEvents":"No recent events","cardUid":"Card UID","eventTime":"Event Time","sourceIp":"Source IP"},"settings":{"title":"Settings","webhookConfig":"Webhook Configuration","webhookConfigDesc":"Configure webhooks to send RFID tag events to external systems.","addWebhook":"Add Webhook","generalSettings":"General Settings","generalSettingsDesc":"Manage system-wide configurations.","systemName":"System Name","webhookCardUidKey":"Webhook Card UID Key","webhookCardUidKeyDesc":"The key name used for the Card UID in webhook payloads (default: card_uid).","tagThrottleTime":"Tag Throttle Time (minutes)","tagThrottleTimeDesc":"If a tag is scanned multiple times within this window, subsequent scans will be ignored. Set to 0 to disable.","saveChanges":"Save Changes","savedSuccess":"Settings saved successfully","saveFailed":"Failed to save settings","dataManagement":"Data Management","dataManagementDesc":"Manage log data. These actions are irreversible.","resetTagEvents":"Reset Tag Events","resetTagEventsDesc":"Delete all tag event records.","resetWebhookLogs":"Reset Webhook Logs","resetWebhookLogsDesc":"Delete all webhook execution logs.","resetting":"Resetting...","confirmResetTagEvents":"Are you sure you want to delete all Tag Events?\\n\\n⚠️ This action cannot be undone.","confirmResetWebhookLogs":"Are you sure you want to delete all Webhook Logs?\\n\\n⚠️ This action cannot be undone.","resetTagEventsSuccess":"Tag Events have been reset.\\nDeleted records: {count}","resetWebhookLogsSuccess":"Webhook Logs have been reset.\\nDeleted records: {count}","confirmDeleteWebhook":"Are you sure you want to delete webhook \\"{name}\\"?","webhookTestSuccess":"Webhook test successful! Check the webhook logs for details.","webhookTestFailed":"Webhook test failed","deleteWebhookFailed":"Failed to delete webhook","saveWebhookFailed":"Failed to save webhook"},"webhook":{"name":"Name","url":"URL","method":"Method","active":"Active","inactive":"Inactive","actions":"Actions","test":"Test","noWebhooks":"No webhooks configured.","createFirst":"Add your first webhook to get started.","editWebhook":"Edit Webhook","createWebhook":"Create Webhook","urlPlaceholder":"https://example.com/webhook","customHeaders":"Custom Headers","headerKey":"Header Key","headerValue":"Header Value","addHeader":"Add Header","payloadMapping":"Payload Field Mapping","fromField":"From Field","toField":"To Field Name","addMapping":"Add Mapping"},"reports":{"title":"Reports & Analytics","last7Days":"Last 7 Days","last30Days":"Last 30 Days","last90Days":"Last 90 Days","customRange":"Custom Range","exportCsv":"Export CSV","exporting":"Exporting...","totalEvents":"Total Events","totalEventsDesc":"Tag scans recorded","uniqueCards":"Unique Cards","uniqueCardsDesc":"Different cards detected","activeWebhooks":"Active Webhooks","of":"of","total":"total","webhookSuccessRate":"Webhook Success Rate","calls30Days":"calls (30 days)","dailyEventActivity":"Daily Event Activity","noEventData":"No event data available for this period","mostActiveCards":"Most Active Cards","noCardData":"No card data available","cardUid":"Card UID","eventCount":"Event Count","webhookPerformance":"Webhook Performance (Last 30 Days)","webhook":"Webhook","totalCalls":"Total Calls","successful":"Successful","successRate":"Success Rate","noWebhookData":"No webhook performance data available"},"language":{"title":"Language","korean":"한국어","english":"English"},"guide":{"title":"TagFlow User Guide","subtitle":"RFID Tag Management System Manual","backToLogin":"Back to Login","overview":{"title":"Overview","description":"TagFlow is a system that collects and manages RFID tag events in real-time. You can monitor tag scan data, integrate with external systems through webhooks, and analyze data through various reports."},"features":{"title":"Key Features","dashboard":{"title":"Dashboard","description":"View real-time tag event status, webhook success rate, and recent events at a glance."},"tagInput":{"title":"Tag Input","description":"Manually input 8-character RFID tag UIDs to create events. Tags are automatically registered upon input completion."},"reports":{"title":"Reports","description":"View various analytics data including period-based event statistics, most active cards, and webhook performance. Export to CSV available."},"webhook":{"title":"Webhook Settings","description":"Configure webhooks to send data to external systems when tag events occur. Supports custom headers and field mapping."}},"gettingStarted":{"title":"Getting Started","step1":"Log in with the default account (admin / admin123).","step2":"Register necessary webhooks in the Settings menu.","step3":"Register or scan RFID tags in the Tag Input menu.","step4":"Monitor data through the Dashboard and Reports."},"roles":{"title":"User Roles","role":"Role","permissions":"Permissions","adminDesc":"Full access to all features, user management, system configuration","operatorDesc":"Tag input, dashboard view, report view","viewerDesc":"Dashboard view, report view (read-only)"},"help":{"title":"Need Help?","description":"Contact your system administrator or refer to the documentation."}},"users":{"title":"User Management","addUser":"Add User","editUser":"Edit User","createUser":"Create User","username":"Username","password":"Password","passwordHint":"(leave empty to keep current)","role":"Role","createdAt":"Created At","actions":"Actions","edit":"Edit","delete":"Delete","cancel":"Cancel","update":"Update","create":"Create","loading":"Loading...","confirmDelete":"Are you sure you want to delete user \\"{username}\\"?","cannotDeleteAdmin":"Cannot delete admin user","saveFailed":"Failed to save user","deleteFailed":"Failed to delete user","roles":{"admin":"Admin","operator":"Operator","viewer":"Viewer"}},"tags":{"title":"Tag Management","autoRegistration":"RFID Tags Auto-Registration","description":"RFID tags are automatically registered when they are scanned by an RFID reader. Each tag event is captured and processed by the system, creating a record in the database.","howItWorks":"How it works:","step1":"RFID reader detects a tag","step2":"Tag UID is sent to the backend via HTTP request","step3":"System creates a tag event record","step4":"Configured webhooks are triggered to notify external systems","viewReports":"To view tag events and statistics, visit the Reports page.","reports":"Reports"}}')},r=(0,o.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,o.useState)("ko");return(0,o.useEffect)(()=>{let e=localStorage.getItem("locale");e&&("ko"===e||"en"===e)&&i(e)},[]),(0,a.jsx)(r.Provider,{value:{locale:s,setLocale:e=>{i(e),localStorage.setItem("locale",e)},t:(e,t)=>{let a=e.split("."),o=n[s];for(let t of a){if("object"!=typeof o||null===o||!(t in o))return console.warn("Translation key not found: ".concat(e)),e;o=o[t]}return"string"!=typeof o?(console.warn("Translation key is not a string: ".concat(e)),e):t?o.replace(/\{(\w+)\}/g,(e,s)=>{var a,o;return null!==(o=null===(a=t[s])||void 0===a?void 0:a.toString())&&void 0!==o?o:"{".concat(s,"}")}):o}},children:t})}function l(){let e=(0,o.useContext)(r);if(!e)throw Error("useTranslation must be used within an I18nProvider");return e}},2076:function(e,t,s){"use strict";var a=s(1892);let o=s(9792).env.NEXT_PUBLIC_API_URL||"http://localhost:3001",n=a.Z.create({baseURL:o,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&e.headers&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,async e=>{var t,s,r;let i=e.config,l=(null===(t=i.url)||void 0===t?void 0:t.includes("/auth/login"))||(null===(s=i.url)||void 0===s?void 0:s.includes("/auth/refresh")),d=localStorage.getItem("refresh_token");if((null===(r=e.response)||void 0===r?void 0:r.status)===401&&!i._retry&&!l&&d){i._retry=!0;try{let{access_token:e,refresh_token:t}=(await a.Z.post("".concat(o,"/auth/refresh"),{refresh_token:d})).data;return localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t),i.headers&&(i.headers.Authorization="Bearer ".concat(e)),n(i)}catch(e){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(e)}}return Promise.reject(e)}),t.Z=n},4734:function(e,t,s){"use strict";s.d(t,{Q:function(){return r}});var a=s(1892);let o=s(9792).env.NEXT_PUBLIC_API_URL||"http://localhost:3001",n=()=>{let e=localStorage.getItem("access_token");return{Authorization:"Bearer ".concat(e)}},r={getAllPurposes:async()=>(await a.Z.get("".concat(o,"/purposes"),{headers:n()})).data,getActivePurposes:async()=>(await a.Z.get("".concat(o,"/purposes/active"),{headers:n()})).data,getPurposeById:async e=>(await a.Z.get("".concat(o,"/purposes/").concat(e),{headers:n()})).data,createPurpose:async e=>(await a.Z.post("".concat(o,"/purposes"),e,{headers:n()})).data,updatePurpose:async(e,t)=>(await a.Z.put("".concat(o,"/purposes/").concat(e),t,{headers:n()})).data,async deletePurpose(e){await a.Z.delete("".concat(o,"/purposes/").concat(e),{headers:n()})},getFields:async e=>(await a.Z.get("".concat(o,"/purposes/").concat(e,"/fields"),{headers:n()})).data,createField:async(e,t)=>(await a.Z.post("".concat(o,"/purposes/").concat(e,"/fields"),t,{headers:n()})).data,updateField:async(e,t)=>(await a.Z.put("".concat(o,"/purposes/fields/").concat(e),t,{headers:n()})).data,async deleteField(e){await a.Z.delete("".concat(o,"/purposes/fields/").concat(e),{headers:n()})},getWebhooks:async e=>(await a.Z.get("".concat(o,"/purposes/").concat(e,"/webhooks"),{headers:n()})).data,createWebhook:async(e,t)=>(await a.Z.post("".concat(o,"/purposes/").concat(e,"/webhooks"),t,{headers:n()})).data,updateWebhook:async(e,t)=>(await a.Z.put("".concat(o,"/purposes/webhooks/").concat(e),t,{headers:n()})).data,async deleteWebhook(e){await a.Z.delete("".concat(o,"/purposes/webhooks/").concat(e),{headers:n()})},getRules:async e=>(await a.Z.get("".concat(o,"/purposes/").concat(e,"/rules"),{headers:n()})).data,createRule:async(e,t)=>(await a.Z.post("".concat(o,"/purposes/").concat(e,"/rules"),t,{headers:n()})).data,updateRule:async(e,t)=>(await a.Z.put("".concat(o,"/purposes/rules/").concat(e),t,{headers:n()})).data,async deleteRule(e){await a.Z.delete("".concat(o,"/purposes/rules/").concat(e),{headers:n()})},getFollowups:async e=>(await a.Z.get("".concat(o,"/purposes/").concat(e,"/followups"),{headers:n()})).data,createFollowup:async(e,t)=>(await a.Z.post("".concat(o,"/purposes/").concat(e,"/followups"),t,{headers:n()})).data,updateFollowup:async(e,t)=>(await a.Z.put("".concat(o,"/purposes/followups/").concat(e),t,{headers:n()})).data,async deleteFollowup(e){await a.Z.delete("".concat(o,"/purposes/followups/").concat(e),{headers:n()})},getAllStats:async()=>(await a.Z.get("".concat(o,"/purposes/stats"),{headers:n()})).data,getPurposeStats:async e=>(await a.Z.get("".concat(o,"/purposes/").concat(e,"/stats"),{headers:n()})).data,async getLogs(e){let t=new URLSearchParams;return(null==e?void 0:e.purposeId)&&t.append("purposeId",e.purposeId.toString()),(null==e?void 0:e.entityType)&&t.append("entityType",e.entityType),(null==e?void 0:e.limit)&&t.append("limit",e.limit.toString()),(await a.Z.get("".concat(o,"/purposes/logs?").concat(t.toString()),{headers:n()})).data},validateData:async(e,t)=>(await a.Z.post("".concat(o,"/purposes/").concat(e,"/validate"),t,{headers:n()})).data}},8298:function(e,t,s){var a=s(9792);s(5825);var o=s(8078),n=o&&"object"==typeof o&&"default"in o?o:{default:o};function r(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=void 0!==a&&a.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},d=function(){function e(e){var t=void 0===e?{}:e,s=t.name,a=void 0===s?"stylesheet":s,o=t.optimizeForSpeed,n=void 0===o?i:o;c(l(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",c("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var r=document.querySelector('meta[property="csp-nonce"]');this._nonce=r?r.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(i||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(c(l(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return i||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var a=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,a))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed){var s=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(a){i||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var a=this._tags[e];c(a,"old rule at index `"+e+"` not found"),a.textContent=t}return e},s.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},s.cssRules=function(){var e=this;return this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&c(l(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];return s?o.insertBefore(a,s):o.appendChild(a),a},r(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),t&&r(e,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},f={};function h(e,t){if(!t)return"jsx-"+e;var s=String(t),a=e+s;return f[a]||(f[a]="jsx-"+u(e+"-"+s)),f[a]}function p(e,t){var s=e+t;return f[s]||(f[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),f[s]}var m=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,a=void 0===s?null:s,o=t.optimizeForSpeed,n=void 0!==o&&o;this._sheet=a||new d({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),a&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),a=s.styleId,o=s.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var n=o.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=n,this._instancesCounts[a]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var a=this._fromServer&&this._fromServer[s];a?(a.parentNode.removeChild(a),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],a=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,a=e.id;if(s){var o=h(a,s);return{styleId:o,rules:Array.isArray(t)?t.map(function(e){return p(o,e)}):[p(o,t)]}}return{styleId:h(a),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),g=o.createContext(null);g.displayName="StyleSheetContext";var y=n.default.useInsertionEffect||n.default.useLayoutEffect,b=new m;function v(e){var t=b||o.useContext(g);return t&&y(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}v.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},t.style=v},8397:function(e,t,s){e.exports=s(8298).style},5825:function(){}},function(e){e.O(0,[885,115,141,744],function(){return e(e.s=9581)}),_N_E=e.O()}]);